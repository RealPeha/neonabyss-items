{"version":3,"sources":["webpack:///./src/components/Item/index.js","webpack:///./src/utils/getItemSettingsByType.js","webpack:///./src/utils/getItemOffset.js","webpack:///./src/components/ItemList/index.js","webpack:///./src/components/Modal/index.js","webpack:///./src/components/Text/index.js","webpack:///./src/components/Search/index.js","webpack:///./src/components/ItemInfo/index.js","webpack:///./src/pages/index.js"],"names":["noop","Item","type","offset","onHover","onLeave","onClick","x","y","className","css","onMouseEnter","onMouseLeave","getItemSettingsByType","spriteSheetXAmount","height","width","getItemOffset","id","index","ItemList","items","title","data-title","map","item","key","name","React","memo","Modal","data","onClose","color","Text","fontSize","uppercase","bold","font","children","Search","onChange","e","target","value","ItemInfo","description","IndexPage","location","navigate","useState","selectedItem","setSelectedItem","modalData","setModalData","itemsRaw","weapons","weaponsRaw","setItems","handleModalOpen","useCallback","replace","handleModalClose","useEffect","search","slice","split","reduce","acc","query","find","filteredItems","filter","includes","filteredWeapons"],"mappings":"0IAGMA,EAAO,aAsBEC,EApBF,SAAC,GAMP,IALHC,EAKE,EALFA,KACAC,EAIE,EAJFA,OAIE,IAHFC,eAGE,MAHQJ,EAGR,MAFFK,eAEE,MAFQL,EAER,MADFM,eACE,MADQN,EACR,IACqBG,EADrB,GACKI,OADL,MACS,EADT,IACqBJ,EADrB,GACYK,OADZ,MACgB,EADhB,EAGF,OACI,mBACIC,UAAS,QAASP,EAAI,IAAOA,EAAS,IACtCQ,IAAG,mCAA6BH,EAA7B,MAAoCC,EAApC,OACHG,aAAcP,EACdQ,aAAcP,EACdC,QAASA,KCGNO,EAvBe,SAACX,GAC3B,OAAQA,GACJ,IAAK,OACD,MAAO,CACHY,mBAAoB,GACpBC,OAAQ,GACRC,MAAO,IAEf,IAAK,SACD,MAAO,CACHF,mBAAoB,EACpBC,OAAQ,GACRC,MAAO,IAEf,QACI,MAAO,CACHF,mBAAoB,GACpBC,OAAQ,GACRC,MAAO,MCFRC,EAdO,SAACC,EAAIhB,GAAU,IAAD,EAK5BW,EAAsBX,GAHtBY,EAF4B,EAE5BA,mBAKEK,EAAQD,EAAK,EAInB,MAAO,GAHIC,EAAQL,EARa,EAG5BE,UAMOG,EAAQL,EAAqB,GATR,EAI5BC,UCAFK,EAAW,SAAC,GAMX,IAAD,IALFC,aAKE,MALM,GAKN,EAJFC,EAIE,EAJFA,MACApB,EAGE,EAHFA,KACAE,EAEE,EAFFA,QACAE,EACE,EADFA,QAEF,OACE,mBAAKG,UAAU,YAAYc,aAAYD,GAEnCD,EAAMG,KAAI,SAACC,GACT,IAAMtB,EAASc,EAAcQ,EAAKP,GAAIhB,GAEtC,OACE,YAAC,EAAD,CACEwB,IAAKD,EAAKE,KACVzB,KAAMA,EACNC,OAAQA,EACRC,QAAS,kBAAMA,EAAQqB,IACvBpB,QAAS,kBAAMD,KACfE,QAAS,kBAAMA,EAAQ,OAAD,UACjBmB,EADiB,CAEpBtB,SACAD,kBAUD0B,YAAMC,KAAKT,GCdXU,EArBD,SAAC,GAGR,IAAD,IAFJC,YAEI,MAFG,GAEH,EADJC,EACI,EADJA,QAEE,OACE,oCACE,mBAAKvB,UAAU,WAAWH,QAAS0B,IACnC,mBAAKvB,UAAU,oBACZsB,EACG,YAAC,EAAD,CAAUN,KAAMM,IAEhB,mBAAKtB,UAAU,kBACb,YAAC,EAAD,CAAMwB,MAAM,WAAZ,yCCWDC,EAvBF,SAAC,GAOP,IAAD,IANFC,gBAME,MANS,OAMT,MALFF,aAKE,MALM,OAKN,EAJFG,EAIE,EAJFA,UACAC,EAGE,EAHFA,KACAC,EAEE,EAFFA,KACAC,EACE,EADFA,SAEA,OACI,oBACI7B,IAAG,yBACcyB,EADd,UAEUF,EAFV,IAGGG,EAAS,gCAHZ,IAIGC,EAAI,wBAJP,IAKGC,EAAI,gBAAmBA,EAAnB,SAGTC,ICLEC,EAbA,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAKd,OACI,mBAAKhC,UAAU,UACX,YAAC,EAAD,CAAM0B,SAAS,UAAUF,MAAM,UAAUG,WAAS,GAAlD,SACA,qBAAOlC,KAAK,OAAOuC,SAPP,SAACC,GACjBD,EAASC,EAAEC,OAAOC,YCmBXC,EArBE,SAAC,GAAc,IAAZpB,EAAW,EAAXA,KAEZE,EAIAF,EAJAE,KACAmB,EAGArB,EAHAqB,YACA3C,EAEAsB,EAFAtB,OACAD,EACAuB,EADAvB,KAGJ,OACI,oCACKyB,GAAQ,YAAC,EAAD,CAAMQ,SAAS,SAASF,MAAM,UAAUI,MAAI,EAACD,WAAS,GAAET,GACjE,YAAC,EAAD,CAAMzB,KAAMA,EAAMC,OAAQA,IACzB2C,GACO,mBAAKrC,UAAU,kBACX,YAAC,EAAD,CAAMwB,MAAM,WAAWa,M,wBCiGhCC,UAlGG,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAAe,EACJC,qBAAjCC,EADqC,KACvBC,EADuB,OAEVF,qBAA3BG,EAFqC,KAE1BC,EAF0B,OAGLJ,mBAAS,CAC9C7B,MAAOkC,EACPC,QAASC,IALiC,OAGnCpC,EAHmC,EAGnCA,MAAOmC,EAH4B,EAG5BA,QAAWE,EAHiB,KAuBtCC,EAAkBC,uBAAY,SAAAnC,GAClC6B,EAAa7B,GACbwB,EAAS,SAASxB,EAAKP,IAAKO,EAAKvB,KAAL,SAAqBuB,EAAKvB,KAAS,IAAM,CAAE2D,SAAS,MAC/E,CAACZ,IAEEa,EAAmBF,uBAAY,WACnCN,EAAa,QACZ,IAyBH,OAvBAS,qBAAU,WACR,IAAMC,EAAShB,EAASgB,OAAOC,MAAM,GAAGC,MAAM,KAAKC,QAAO,SAACC,EAAKC,GAAW,IAAD,IAClDA,EAAMH,MAAM,KAA3BvC,EADiE,KAC3DiB,EAD2D,KAGxE,OAAO,OAAP,UAAWwB,IAAX,MAAiBzC,GAAOiB,EAAxB,MACC,IAGK1B,EAEJ8C,EAFFvC,KARY,EAUVuC,EADF9D,YATY,MASL,GATK,EAYd,GAAIgB,EAAI,CACN,IAAMO,GAAiB,WAATvB,EAAoBuD,EAAaF,GAAUe,MAAK,SAAA7C,GAAI,OAAIA,EAAKP,MAAQA,KAEnFoC,EAAa,OAAD,UACP7B,EADO,CAEVvB,OACAC,OAAQc,EAAcQ,EAAKP,GAAIhB,SAGlC,CAAC8C,EAASgB,SAGX,mBAAKvD,UAAU,QACZ4C,GAAa,YAAC,EAAD,CACZtB,KAAMsB,EACNrB,QAAS8B,IAEX,mBAAKrD,UAAU,mBACb,mBAAKA,UAAU,sBACZ0C,EACG,YAAC,EAAD,CAAU1B,KAAM0B,IAEhB,mBAAK1C,UAAU,kBACb,YAAC,EAAD,CAAMwB,MAAM,WAAZ,uCAMR,YAAC,EAAD,CAAQQ,SAjEO,SAAC4B,GACpB,IAAME,EAAgBhB,EAASiB,QAAO,SAAA/C,GACpC,OAAOA,EAAKqB,YAAY2B,SAASJ,MAG7BK,EAAkBjB,EAAWe,QAAO,SAAA/C,GACxC,OAAOA,EAAKqB,YAAY2B,SAASJ,MAGnCX,EAAS,CACPrC,MAAOkD,EACPf,QAASkB,QAwDT,mBAAKjE,UAAU,WAEb,YAAC,EAAD,CACEY,MAAOA,EACPC,MAAM,QACNpB,KAAK,OACLE,QAASgD,EACT9C,QAASqD,IAIX,YAAC,EAAD,CACEtC,MAAOmC,EACPlC,MAAM,UACNpB,KAAK,SACLE,QAASgD,EACT9C,QAASqD,Q","file":"component---src-pages-index-js-c4d13c671e893634e55c.js","sourcesContent":["import React from 'react'\nimport css from '@emotion/css'\n\nconst noop = () => {}\n\nconst Item = ({\n    type,\n    offset,\n    onHover = noop,\n    onLeave = noop,\n    onClick = noop,\n}) => {\n    const [x = 0, y = 0] = offset\n\n    return (\n        <div\n            className={`item${type ? ` ${type}` : ''}`}\n            css={css`background-position: ${x}px ${y}px;`}\n            onMouseEnter={onHover}\n            onMouseLeave={onLeave}\n            onClick={onClick}\n        />\n    )\n}\n\nexport default Item\n","const getItemSettingsByType = (type) => {\n    switch (type) {\n        case 'item':\n            return {\n                spriteSheetXAmount: 25,\n                height: 80,\n                width: 80,\n            }\n        case 'weapon':\n            return {\n                spriteSheetXAmount: 3,\n                height: 80,\n                width: 80,\n            }\n        default:\n            return {\n                spriteSheetXAmount: 25,\n                height: 80,\n                width: 80,\n            }\n    }\n}\n\nexport default getItemSettingsByType\n","import getItemSettingsByType from './getItemSettingsByType'\n\nconst getItemOffset = (id, type) => {\n    const {\n        spriteSheetXAmount,\n        width,\n        height\n    } = getItemSettingsByType(type)\n\n    const index = id - 1\n    const x = (index % spriteSheetXAmount) * width\n    const y = (index / spriteSheetXAmount | 0) * height\n\n    return [-x, -y]\n}\n\nexport default getItemOffset\n","import React from 'react'\n\nimport { Item } from '../'\n\nimport getItemOffset from '../../utils/getItemOffset'\n\nconst ItemList = ({\n    items = [],\n    title,\n    type,\n    onHover,\n    onClick,\n}) => {\n  return (\n    <div className=\"item-list\" data-title={title}>\n      {\n        items.map((item) => {\n          const offset = getItemOffset(item.id, type)\n\n          return (\n            <Item\n              key={item.name}\n              type={type}\n              offset={offset}\n              onHover={() => onHover(item)}\n              onLeave={() => onHover()}\n              onClick={() => onClick({\n                ...item,\n                offset,\n                type,\n              })}\n            />\n          )\n        })\n      }\n    </div>\n  )\n}\n\nexport default React.memo(ItemList)\n","import React from 'react'\n\nimport { Text, ItemInfo } from '../'\n\nconst Modal = ({\n  data = {},\n  onClose,\n}) => {\n    return (\n      <>\n        <div className=\"blackout\" onClick={onClose} />\n        <div className=\"info-block modal\">\n          {data\n            ? <ItemInfo item={data} />\n            : (\n              <div className=\"text-container\">\n                <Text color=\"#837AAF\">Тут будет какое-то описание сайта</Text>\n              </div>\n            )\n          }\n        </div>\n      </>\n    )\n}\n\nexport default Modal\n","import React from 'react'\n\nimport css from '@emotion/css'\n\nconst Text = ({\n    fontSize = '14px',\n    color = '#FFF',\n    uppercase,\n    bold,\n    font,\n    children\n}) => {\n    return (\n        <span\n            css={css`\n                font-size: ${fontSize};\n                color: ${color};\n                ${uppercase ? `text-transform: uppercase;` : ``}\n                ${bold ? `font-weight: bold;` : ``}\n                ${font ? `font-family: ${font};` : ``}\n            `}\n        >\n            {children}\n        </span>\n    )\n}\n\nexport default Text\n","import React from 'react'\n\nimport Text from '../Text'\n\nconst Search = ({ onChange }) => {\n    const handleInput = (e) => {\n        onChange(e.target.value)\n    }\n\n    return (\n        <div className=\"search\">\n            <Text fontSize=\"1.25rem\" color=\"#B4E124\" uppercase>Поиск</Text>\n            <input type=\"text\" onChange={handleInput} />\n        </div>\n    )\n}\n\nexport default Search\n","import React from 'react'\n\nimport { Text, Item } from '../'\n\nconst ItemInfo = ({ item }) => {\n    const {\n        name,\n        description,\n        offset,\n        type,\n    } = item\n\n    return (\n        <>\n            {name && <Text fontSize=\"1.5rem\" color=\"#FF01DD\" bold uppercase>{name}</Text>}\n            <Item type={type} offset={offset} />\n            {description && (\n                    <div className=\"text-container\">\n                        <Text color=\"#837AAF\">{description}</Text>\n                    </div>\n            )}\n        </>\n    )\n}\n\nexport default ItemInfo\n","import React, { useState, useEffect, useCallback } from 'react'\n\n// Components\nimport {\n  ItemInfo,\n  Search,\n  ItemList,\n  Text,\n  Modal\n} from '../components'\n\nimport getItemOffset from '../utils/getItemOffset'\n\n// Items\nimport itemsRaw from '../data/items_ru.json'\nimport weaponsRaw from '../data/weapons_ru.json'\n\nconst IndexPage = ({ location, navigate }) => {\n  const [selectedItem, setSelectedItem] = useState()\n  const [modalData, setModalData] = useState()\n  const [{ items, weapons }, setItems] = useState({\n    items: itemsRaw,\n    weapons: weaponsRaw,\n  })\n\n  const handleSearch = (query) => {\n    const filteredItems = itemsRaw.filter(item => {\n      return item.description.includes(query)\n    })\n\n    const filteredWeapons = weaponsRaw.filter(item => {\n      return item.description.includes(query)\n    })\n\n    setItems({\n      items: filteredItems,\n      weapons: filteredWeapons,\n    })\n  }\n\n  const handleModalOpen = useCallback(item => {\n    setModalData(item)\n    navigate(`?item=${item.id}${item.type ? `&type=${item.type}` : ''}`, { replace: true })\n  }, [navigate])\n\n  const handleModalClose = useCallback(() => {\n    setModalData(null)\n  }, [])\n\n  useEffect(() => {\n    const search = location.search.slice(1).split('&').reduce((acc, query) => {\n      const [name, value] = query.split('=')\n    \n      return {...acc, [name]: value}\n    }, {})\n\n    const {\n      item: id,\n      type = ''\n    } = search\n\n    if (id) {\n      const item = (type === 'weapon' ? weaponsRaw : itemsRaw).find(item => item.id === +id)\n\n      setModalData({\n        ...item,\n        type,\n        offset: getItemOffset(item.id, type),\n      })\n    }\n  }, [location.search])\n\n  return (\n    <div className=\"main\">\n      {modalData && <Modal\n        data={modalData}\n        onClose={handleModalClose}\n      />}\n      <div className=\"sidebar-wrapper\">\n        <div className=\"sidebar info-block\">\n          {selectedItem\n            ? <ItemInfo item={selectedItem} />\n            : (\n              <div className=\"text-container\">\n                <Text color=\"#837AAF\">Тут будет какое-то описание сайта</Text>\n              </div>\n            )\n          }\n        </div>\n\n        <Search onChange={handleSearch}/>\n      </div>\n      <div className=\"content\">\n        {/* Items */}\n        <ItemList\n          items={items}\n          title=\"Items\"\n          type=\"item\"\n          onHover={setSelectedItem}\n          onClick={handleModalOpen}\n        />\n\n        {/* Weapons */}\n        <ItemList\n          items={weapons}\n          title=\"Weapons\"\n          type=\"weapon\"\n          onHover={setSelectedItem}\n          onClick={handleModalOpen}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default IndexPage\n"],"sourceRoot":""}